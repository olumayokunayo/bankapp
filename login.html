<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"
    />
    <script
      type="module"
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"
    ></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="signup.css">
    <title>Rad</title>
  </head>
  <body>
    <main class="loginDiv">
      <div class="loginAcc">
        <h3>Welcome back !</h3>
        <img src="./images/banklanding.jpeg" alt="" />
        <div class="input">
          <input
            type="text"
            id="usernameLog"
            placeholder="Enter your username"
          />
        </div>
        <div class="inputDiv">
          <input
            type="password"
            id="passwordLog"
            placeholder="Enter your password"
          />
          <button class="visibilityDivBtn">
            <span class="visibilityOff material-symbols-outlined">
              visibility_off
            </span>
          </button>
        </div>
        <div class="buttons">
          <div class="bt1" id="loginBtn">
            <button class="createBtn">Login</button>
          </div>
        </div>
        <p class="account">
          <span> Don't have an acount? </span>
          <span class="signHere" id="signHere">create account now</span>
        </p>
      </div>
      <div class="socials">
        <span
          ><ion-icon class="socialIcon" name="logo-twitter"></ion-icon
        ></span>
        <span
          ><ion-icon class="socialIcon" name="logo-facebook"></ion-icon
        ></span>
        <span
          ><ion-icon class="socialIcon" name="logo-instagram"></ion-icon
        ></span>
        <span
          ><ion-icon class="socialIcon" name="logo-linkedin"></ion-icon
        ></span>
      </div>
    </main>
  </body>
</html>
<script>
  // LOGIN ACCOUNT

  let loginBtn = document.getElementById("loginBtn");
  let usernameLog = document.getElementById("usernameLog");
  let passwordLog = document.getElementById("passwordLog");

  loginBtn.addEventListener("click", function () {
    // Retrieve the user's information using the key
    let userKey = `userInfo-${usernameLog.value}`;
    // Get the user's key from localStorage
    let userInfo = JSON.parse(localStorage.getItem(userKey));

    if (userInfo && userInfo.password === passwordLog.value) {
      localStorage.setItem("loggedInUser", usernameLog.value);
      window.location.href = "dashboard.html";
    } else {
      alert("Invalid username or password");
    }
  });

  // VISIBILITY FOR LOG IN
  let visibilityDivBtn = document.querySelector(".visibilityDivBtn");
  visibilityDivBtn.addEventListener("click", function () {
    if (passwordLog.type == "password") {
      passwordLog.type = "text";
      visibilityDivBtn.innerHTML = `<span class="material-symbols-outlined">
    visibility
    </span>`;
    } else {
      passwordLog.type = "password";
      visibilityDivBtn.innerHTML = `<span class="material-symbols-outlined">
    visibility_off
    </span>`;
    }
  });

  let signHereBtn = document.getElementById("signHere");
  signHereBtn.addEventListener("click", function () {
    window.location.href = "index.html";
  });
</script>
